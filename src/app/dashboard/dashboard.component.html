<div class="container">

  <div class="sidebar">
    beepe
  </div>
  <div class="content">
    <div class="container">
      <h1>Comment Section Health</h1>
      <nz-space class="m-5" nzSize="large">
        <nz-space-item class="flex-col overall-health align-center">
          <h1>Overall Health</h1>
          <nz-progress [nzFormat]="formatComments" [nzPercent]="81" [nzStrokeLinecap]="strokeCap"
                       [nzStrokeWidth]="strokeWidth" [nzWidth]="233"
                       nzStrokeColor="green" nzType="dashboard"></nz-progress>
          <ng-template #formatComments let-number>
            <div class="flex-col">{{number}}%<span>Comments OK</span></div>
          </ng-template>
        </nz-space-item>
        <div class="flex-col blocked-by-model align-center">
          <h1>Blocked by Model</h1>
          <nz-space class="flex-row m-5" nzSize="large">
            <nz-space-item>
              <nz-progress [nzFormat]="moderate" [nzPercent]="5" [nzStrokeLinecap]="strokeCap"
                           [nzStrokeWidth]="strokeWidth" [nzWidth]="blockedByModelProgressWidth"
                           nzType="dashboard"></nz-progress>
              <ng-template #moderate let-number>
                <div class="flex-col">{{number}}%<span>TEXTA Moderate</span></div>
              </ng-template>
            </nz-space-item>
            <nz-space-item>
              <nz-progress [nzFormat]="delete" [nzPercent]="4" [nzStrokeLinecap]="strokeCap"
                           [nzStrokeWidth]="strokeWidth" [nzWidth]="blockedByModelProgressWidth"
                           nzType="dashboard"></nz-progress>
              <ng-template #delete let-number>
                <div class="flex-col">{{number}}%<span>TEXTA Delete</span></div>
              </ng-template>
            </nz-space-item>
            <nz-space-item>
              <nz-progress [nzFormat]="QMUL" [nzPercent]="10" [nzStrokeLinecap]="strokeCap"
                           [nzStrokeWidth]="strokeWidth" [nzWidth]="blockedByModelProgressWidth"
                           nzType="dashboard"></nz-progress>
              <ng-template #QMUL let-number>
                <div class="flex-col">{{number}}%<span>QMUL</span></div>
              </ng-template>
            </nz-space-item>
          </nz-space>
        </div>
      </nz-space>

      <h1>Trending Entities & Keywords in Articles
        <nz-space [hidden]="!switchValue" nzSize="middle">
          <nz-space-item>
            <nz-tag *ngIf="COLORS" nzColor="{{COLORS['PER']}}">PERSON</nz-tag>
          </nz-space-item>
          <nz-space-item>
            <nz-tag *ngIf="COLORS" nzColor="{{COLORS['LOC']}}">LOCATION</nz-tag>
          </nz-space-item>
          <nz-space-item>
            <nz-tag *ngIf="COLORS" nzColor="{{COLORS['KEYWORD']}}">KEYWORD</nz-tag>
          </nz-space-item>
        </nz-space>
      </h1>
      <div class="flex-row mw entities-actions">
        <nz-switch (ngModelChange)="switchView($event)" [(ngModel)]="switchValue" class="switch-views"></nz-switch>
        <nz-select (ngModelChange)="factSelected($event)" [(ngModel)]="selectedFact" [hidden]="switchValue"
                   class="fact-select" nzPlaceHolder="Choose">
          <nz-option *ngFor="let key of this.tagsKeys" nzLabel="{{key}}" nzValue="{{key}}"></nz-option>
        </nz-select>
      </div>
      <div [hidden]="switchValue" class="flex-col mh mw dark">
        <ngx-charts-bar-horizontal *ngIf="graphData.length>0"
                                   [results]="graphData"
                                   [roundEdges]="false"
                                   [showXAxisLabel]="showXAxisLabel"
                                   [showYAxisLabel]="showYAxisLabel"
                                   [xAxisLabel]="xAxisLabel"
                                   [xAxis]="showXAxis"
                                   [yAxisLabel]="yAxisLabel"
                                   [yAxis]="showYAxis">
        </ngx-charts-bar-horizontal>
      </div>
      <nz-space [hidden]="!switchValue" class="flex-col tag-container" nzDirection="vertical">
        <nz-space-item *ngFor="let item of tagsKeys" class="flex-row flex-wrap">
          <nz-tag *ngFor="let tag of tags[item]" nzColor="{{COLORS[item]}}">
            {{tag.name}}
          </nz-tag>
        </nz-space-item>
      </nz-space>

    </div>
  </div>
</div>
