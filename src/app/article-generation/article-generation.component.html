<div class="container">
  <div class="sidebar">
    <form #generatorForm="ngForm" (ngSubmit)="submitForm()" class="mw" nz-form nzLayout="vertical">
      <nz-form-item>
        <nz-form-control nzErrorTip="This field is required">
          <nz-form-label nzRequired>Language</nz-form-label>
          <nz-select
            (ngModelChange)="languageSelected.next($event)"
            [(ngModel)]="selectedLanguage"
            [nzLoading]="!languages"
            class="mw"
            name="selectedLanguage"
            required>
            <nz-option *ngFor="let item of languages?.languages" [nzLabel]="item"
                       [nzValue]="item"></nz-option>
          </nz-select>

        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control nzErrorTip="This field is required">

          <nz-form-label nzRequired>Dataset</nz-form-label>
          <nz-select
            (ngModelChange)="datasetSelected.next($event)"
            [(ngModel)]="selectedDataset"
            [nzLoading]="!datasets"
            class="mw"
            name="selectedDataset"
            [disabled]="!selectedLanguage"
            required>
            <nz-option *ngFor="let item of datasets?.datasets" [nzLabel]="item"
                       [nzValue]="item"></nz-option>
          </nz-select>

        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="This field is required">

          <nz-form-label nzRequired>Location</nz-form-label>
          <nz-select
            [(ngModel)]="selectedLocation"
            [disabled]="!selectedDataset"
            [nzLoading]="!locations"
            class="mw"
            name="selectedLocation"
            required>
            <nz-option *ngFor="let item of locations?.locations" [nzLabel]="item"
                       [nzValue]="item"></nz-option>
          </nz-select>

        </nz-form-control>
      </nz-form-item>


      <button [disabled]="!generatorForm.form.valid" [nzLoading]="isLoading" class="mw" nz-button nzType="primary">
        Generate
      </button>
    </form>
  </div>
  <div class="content">
    <nz-spin *ngIf="isLoading" [nzSize]="'large'" [nzSpinning]="isLoading" nzSimple></nz-spin>
    <div *ngIf="this.results" class="container">
      <h1 class="mw">{{this.results.header}}</h1>
      <div [innerHTML]="this.results.body">
      </div>
    </div>
  </div>
</div>
